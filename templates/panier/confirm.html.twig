{% extends 'base.html.twig' %}

{% block title %}Commande en cours d'achat{% endblock %}

{% block body %}
<style>
  button[data-acc-step]:not(.open) { background: #f2f2f2;  }
</style>


<div class="container mt-5">
<form method="POST" action="{{ path('panier.confirm.add') }}" >
    <input type="hidden" name="_method" value="CREATE">
    <input type="hidden" name="_token" value="{{ csrf_token('create' ~ app.user) }}">
<div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" data-acc-step>
      <span class="badge rounded-pill text-bg-primary " data-acc-step>1</span> <h5 class="ms-3 mb-0">Information</h5>
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <div class="accordion-body">
         <div class="container p-2">
          {% for UserProfil in UserProfil %}
      <div class="row justify-content-md-center p-2">
        <div class="col-md-4">Prénom<input type="text" name="first_name" class="form-control" aria-label="Prénom" value="{{ UserProfil.prenom }}" required></div>
        <div class="col-md-4">Nom<input type="text" name="last_name" class="form-control" aria-label="Nom" value="{{ UserProfil.nom }}" required></div>
      </div>
      <div class="row justify-content-md-center p-2">
        <div class="col-md-4">Adresse mail<input type="text" name="mail" class="form-control" aria-label="Adresse mail" value="{{ UserProfil.mail }}" required></div>
        <div class="col-md-4">Numéro de téléphone<input type="tel" name="phone" class="form-control" aria-label="Numéro de téléphone" value="{{ UserProfil.tel }}" required></div>
    </div>
    <div class="row justify-content-md-end p-2">
              <div class="col-md-3 "><button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false">Suivant</button></div>
            </div>
  </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" data-acc-step>
       <span class="badge rounded-pill text-bg-primary " data-acc-step>2</span> <h5 class="ms-3 mb-0">Adresse</h5>
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        
          <div class="container">
            <div class="row justify-content-md-center p-2">
              <div class="col-md-4">Rue<input type="text" name="street" class="form-control" aria-label="Rue" value="{{ UserProfil.Rue }}" required></div>
              <div class="col-md-4">Code postal<input type="text" name="CP" class="form-control" aria-label="Code postal" value="{{ UserProfil.CP }}" required></div>
            </div>
            <div class="row justify-content-md-center p-2">
              <div class="col-md-4">Ville<input type="text" name="city" class="form-control" aria-label="Ville" value="{{ UserProfil.ville }}" required></div>
              <div class="col-md-4">Pays<input type="text" name="country" class="form-control" aria-label="Pays" value="{{ UserProfil.pays }}" required></div>
            </div>

            <div class="row justify-content-md-center p-2">
              <div class="col-md-5 justify-content-md-start"><button class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false">Précédent</button></div>
              <div class="col-md-3 text-end"><button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false">Suivant</button></div>
            </div>
            
          </div>
          {% endfor %}
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" data-acc-step>
      <span class="badge rounded-pill text-bg-primary " data-acc-step>3</span> <h5 class="ms-3 mb-0">Paiement</h5>
      </button>
    </h2>
    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
      <div class="accordion-body">
         <div class="container p-2">
      <div class="row justify-content-md-center p-2">
        <div class="col-md-8">Carte de crédit<input type="text" class="form-control" aria-label="creditcard" ></div>
      </div>
      <div class="row justify-content-md-center p-2">
        <div class="col-md-4">Date d'expiration<input type="text" class="form-control" aria-label="Expiry"></div>
        <div class="col-md-4">CVV<input type="text" class="form-control" aria-label="CVV"></div>
      </div>
      <div class="row justify-content-md-center p-2">
        <div class="col-md-5 justify-content-md-start"><button class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false">Précédent</button></div>
        <div class="col-md-3 text-end"><button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false">Suivant</button></div>
      </div>
    </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingFour">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour" data-acc-step>
      <span class="badge rounded-pill text-bg-primary " data-acc-step>3</span> <h5 class="ms-3 mb-0">Validation</h5>
      </button>
    </h2>
    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
      <div class="accordion-body">
         <div class="container p-2">
      <div class="row justify-content-md-center p-2">
        <div class="col-md-8">Montant total : {{ Mtotal }} euros</div>
      </div>
      <div class="row justify-content-md-center p-2">
        <div class="col-md-4">Nombre d'article : {{ NBarticle }}</div>
        <div class="col-md-4">Nombre de plante : {{ NBplante }}</div>
      </div>
      <div class="row justify-content-md-center p-2">
        <div class="col-md-5 justify-content-md-start"><button class="btn btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false">Précédent</button></div>
        <div class="col-md-3 text-end"><button class="btn btn-primary">Payer</button></div>
      </div>
    </div>
    </div>
  </div>
</div>

</form>
</div>
{% endblock %}
